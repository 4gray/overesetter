<div fxLayout="column" fxFlexFill style="overflow: hidden;">

    <div id="tabs" fxFlex="40px" class="options-panel">
        <div *ngFor="let tab of tabs" (click)="selectTab(tab.id)" [class.active-tab]="tab.id === selectedTabId">{{tab.title}}</div>
    </div>

    <div fxLayout="column" *ngIf="selectedTabId==='api'" class="full-height">
        <div fxFlex id="settings-area">
            To use this application you need to
            <a href="#" (click)="openUrl('https://tech.yandex.com/translate/')">register</a> free API-Key from Yandex
            Translate.
            For test you can use this dev-key:
            <kbd>trnsl.1.1.20160306T121040Z.ce3153278463656c.38be842aceb435f1c023544f5571eb64e2c01fdf</kbd>
        </div>
        <textarea fxFlex id="api-key" placeholder="Enter your API key here" type="text" [(ngModel)]="settings.apiKey"></textarea>
    </div>

    <div fxLayout="column" *ngIf="selectedTabId==='general'" class="full-height">
        <div fxFlex class="settings-container">
            <div class="settings-title">Application settings</div>
            <ul>
                <li class="checkbox-option">
                    <label for="start-at-login">
                        <input type="checkbox" id="start-at-login" value="Start at login" [(ngModel)]="settings.autolaunch">
                        Start
                        at login</label>
                </li>
                <li class="checkbox-option">
                    <label for="show-dock-icon">
                        <input type="checkbox" id="show-dock-icon" value="Show dock icon" [(ngModel)]="settings.showDockIcon">
                        Show
                        dock icon</label>
                </li>
                <li class="checkbox-option">
                    <label for="always-on-top">
                        <input type="checkbox" id="always-on-top" value="Stay always on the top" [(ngModel)]="settings.alwaysOnTop">
                        Always
                        on top</label>
                </li>
            </ul>
            <div class="settings-title">Shortcuts</div>
            <ul>
                <li class="text">Use
                    <b>
                        <kbd>⌘</kbd>/
                        <kbd>Ctrl</kbd> +
                        <kbd>Alt</kbd> +
                        <kbd>T</kbd>
                    </b> to show application window</li>
                <li class="text">Use
                    <b>
                        <kbd>⌘</kbd>/
                        <kbd>Ctrl</kbd> +
                        <kbd>Alt</kbd> +
                        <kbd>R</kbd>
                    </b> to translate text from clipboard</li>
            </ul>

            <div class="settings-note">
                New settings will only take effect after a restart!
            </div>
        </div>
    </div>
    <div fxLayout="column" *ngIf="selectedTabId==='languages'" class="full-height">
        <div fxFlex class="settings-container">
            <app-language-settings [languagesList]="languagesList | async" [preferedLangList]="settings.preferedLanguageList"
                [languages]="settings.languages" (changeLanguageSettings)="updateLanguageSettings($event)"></app-language-settings>
        </div>
    </div>

    <div fxLayout="column" *ngIf="selectedTabId==='about'" class="full-height">
        <div fxFlex class="settings-container">
            <app-about></app-about>
        </div>
    </div>

    <div fxFlex="40px" id="footer" class="options-panel">
        <div fxLayout="row" class="copyright" fxFlexFill>
            <i fxFlex="20px" class="fa fa-angle-left back-icon" (click)="validateApiKey()"></i>
            <button fxFlex="75px" [disabled]="!settings.apiKey" (click)="saveSettings()" class="save-settings-btn">
                <i class="fa fa-save"></i> Save</button>
            <div fxFlex class="settings-text-bottom">{{errorMessage}}</div>
            <div fxFlex="20px" id="close-btn" (click)="closeApp()">
                <i class="fa fa-power-off"></i>
            </div>
            <div fxFlex="20px" id="close-btn" (click)="openUrl('https://4gray.github.io/oversetter/')">
                <i class="fa fa-github"></i>
            </div>
        </div>
    </div>

</div>